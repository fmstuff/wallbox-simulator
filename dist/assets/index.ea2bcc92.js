import{S as U,i as T,s as E,e as k,a as w,b as _,c as oe,l as Y,n as M,d as $,f as D,g as P,h as v,m as I,j as N,t as b,k as S,o as C,p as A,u as W,q,r as F,v as O,w as se,x as we,y as ce,z as J,A as y,B as re,C as G,D as B,E as L,F as j,G as z,H as ie,I as K,J as Q,K as ve,L as le}from"./vendor.27c87493.js";const Ie=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}};Ie();function Ce(o){let e,n,t;return{c(){e=k("input"),w(e,"class","w-full px-8 py-4 text-center text-indigo-600 bg-purple-100 rounded-full outline-none focus:ring-2 focus:ring-indigo-600 ")},m(s,c){_(s,e,c),oe(e,o[0]),n||(t=Y(e,"input",o[1]),n=!0)},p(s,[c]){c&1&&e.value!==s[0]&&oe(e,s[0])},i:M,o:M,d(s){s&&$(e),n=!1,t()}}}function Ue(o,e,n){let{value:t}=e;function s(){t=this.value,n(0,t)}return o.$$set=c=>{"value"in c&&n(0,t=c.value)},[t,s]}class Te extends U{constructor(e){super();T(this,e,Ue,Ce,E,{value:0})}}function Ee(o){let e,n,t;function s(r){o[1](r)}let c={};return o[0]!==void 0&&(c.value=o[0]),e=new Te({props:c}),D.push(()=>P(e,"value",s)),{c(){v(e.$$.fragment)},m(r,i){I(e,r,i),t=!0},p(r,[i]){const a={};!n&&i&1&&(n=!0,a.value=r[0],N(()=>n=!1)),e.$set(a)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){C(e,r)}}}function Oe(o,e,n){var c;let{connectionUrl:t=(c=localStorage.getItem("connectionString"))!=null?c:"wss://connection/string..."}=e;function s(r){t=r,n(0,t)}return o.$$set=r=>{"connectionUrl"in r&&n(0,t=r.connectionUrl)},o.$$.update=()=>{o.$$.dirty&1&&localStorage.setItem("connectionString",t)},[t,s]}class Le extends U{constructor(e){super();T(this,e,Oe,Ee,E,{connectionUrl:0})}}function Be(o){let e;return{c(){e=O("Custom Button")},m(n,t){_(n,e,t)},d(n){n&&$(e)}}}function De(o){let e,n,t,s;const c=o[2].default,r=A(c,o,o[1],null),i=r||Be();return{c(){e=k("button"),i&&i.c(),w(e,"class","btn btn-primary w-full my-4 text-indigo-600 bg-purple-100 hover:bg-purple-200 active:bg-purple-300 rounded-full outline-none focus:ring-2 focus:ring-indigo-600 active:ring-offset-2 active:ring-4 "+o[0]+"")},m(a,l){_(a,e,l),i&&i.m(e,null),n=!0,t||(s=Y(e,"click",o[3]),t=!0)},p(a,[l]){r&&r.p&&(!n||l&2)&&W(r,c,a,a[1],n?F(c,a[1],l,null):q(a[1]),null)},i(a){n||(b(i,a),n=!0)},o(a){S(i,a),n=!1},d(a){a&&$(e),i&&i.d(a),t=!1,s()}}}function Pe(o,e,n){let{$$slots:t={},$$scope:s}=e;const c="";function r(i){se.call(this,o,i)}return o.$$set=i=>{"$$scope"in i&&n(1,s=i.$$scope)},[c,s,t,r]}class ae extends U{constructor(e){super();T(this,e,Pe,De,E,{classes:0})}get classes(){return this.$$.ctx[0]}}var ue;(function(o){o[o.CALL=2]="CALL",o[o.CALLRESULT=3]="CALLRESULT",o[o.CALLERROR=4]="CALLERROR"})(ue||(ue={}));function Ne(){return we()}function Z(o){return(e,n,t=Ne())=>{if(!e||!e.send){console.warn(`No websocket connection found for sending ${o}... aborting.`);return}const s=JSON.stringify([2,t,o,n]);console.log(`Sending ${o}.`),Ve(e),e.send(s),sessionStorage.setItem("LastAction",o),console.log(`${o} sent!`)}}const ye=Z("Heartbeat"),fe=300;let X;function de(o,e=fe){X=setTimeout(function(){He(o)},e*1e3),console.log(`OCPP Heartbeat initialized with ${e} seconds.`)}function Ve(o,e=fe){ge(),de(o,e)}function ge(){X&&clearTimeout(X),X=void 0,console.log("OCPP Heartbeat timer cleared.")}function He(o){ye(o,{})}const Re=Z("BootNotification"),Me={chargingStation:{serialNumber:"SOME-serial-NUMBER-123",model:"MGWB Fake",vendorName:"Unicorn GmbH",firmwareVersion:"1.2.3"},reason:"PowerUp"};function Ae(o,e){return o?(o.close(3001),e(!1),console.log("Disconnected!")):console.log("Can't disconnect - no websocket connection found..."),o}function We(o,e,n,t,s){return t(""),o&&(o.close(3001),n(!1)),o=new WebSocket(e,["ocpp2.0"]),o.onopen=function(c){n(!0),s({source:"CS simulator",payload:"Websocket connection opened successfully!"}),Re(o,Me)},o.onerror=function(c){c.target.readyState===3&&(t("The connection was closed or could not be established."),s({source:"CS simulator",payload:"The connection was closed or could not be established."})),n(!1)},o.onclose=function(){s({source:"CS simulator",payload:"Websocket connection closed."}),n(!1)},o.onmessage=function(c){s({source:"CPO backend",payload:c.data})},o}function qe(o){let e;return{c(){e=O(o[1])},m(n,t){_(n,e,t)},p(n,t){t&2&&J(e,n[1])},d(n){n&&$(e)}}}function Fe(o){let e,n;return e=new ae({props:{$$slots:{default:[qe]},$$scope:{ctx:o}}}),e.$on("click",o[2]),{c(){v(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,[s]){const c={};s&1026&&(c.$$scope={dirty:s,ctx:t}),e.$set(c)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ge(o,e,n){let t,s=M,c=()=>(s(),s=ce(a,p=>n(5,t=p)),a);o.$$.on_destroy.push(()=>s());let{connectionUrl:r="not provided"}=e,{webSocket:i}=e,{connectionState:a}=e;c();let l;const d=p=>{p?y(a,t="connected",t):y(a,t="disconnected",t)},u=p=>{},g=p=>{console.log(p)},m=()=>{t==="disconnected"?(y(a,t="connecting",t),n(3,i=We(i,r,d,u,g)),de(i)):t==="connected"&&(n(3,i=Ae(i,d)),ge())};return o.$$set=p=>{"connectionUrl"in p&&n(4,r=p.connectionUrl),"webSocket"in p&&n(3,i=p.webSocket),"connectionState"in p&&c(n(0,a=p.connectionState))},o.$$.update=()=>{if(o.$$.dirty&32)switch(t){case"disconnected":n(1,l="Connect");break;case"connecting":n(1,l="Connecting...");break;case"connected":n(1,l="Disconnect");break;default:n(1,l="Error...")}},[a,l,m,i,r,t]}class je extends U{constructor(e){super();T(this,e,Ge,Fe,E,{connectionUrl:4,webSocket:3,connectionState:0})}}function ze(o){let e;return{c(){e=O("Status Pill")},m(n,t){_(n,e,t)},d(n){n&&$(e)}}}function Je(o){let e,n;const t=o[1].default,s=A(t,o,o[0],null),c=s||ze();return{c(){e=k("div"),c&&c.c(),w(e,"class","p-2 text-xs text-gray-500 bg-gray-100 border-2 border-gray-300 rounded-lg font-mono ")},m(r,i){_(r,e,i),c&&c.m(e,null),n=!0},p(r,[i]){s&&s.p&&(!n||i&1)&&W(s,t,r,r[0],n?F(t,r[0],i,null):q(r[0]),null)},i(r){n||(b(c,r),n=!0)},o(r){S(c,r),n=!1},d(r){r&&$(e),c&&c.d(r)}}}function Ke(o,e,n){let{$$slots:t={},$$scope:s}=e;return o.$$set=c=>{"$$scope"in c&&n(0,s=c.$$scope)},[s,t]}class pe extends U{constructor(e){super();T(this,e,Ke,Je,E,{})}}const x=re("disconnected"),V=re();function Qe(o){let e,n;return{c(){e=O("Connection state: "),n=O(o[0])},m(t,s){_(t,e,s),_(t,n,s)},p(t,s){s&1&&J(n,t[0])},d(t){t&&$(e),t&&$(n)}}}function Xe(o){let e,n;return e=new pe({props:{$$slots:{default:[Qe]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,[s]){const c={};s&5&&(c.$$scope={dirty:s,ctx:t}),e.$set(c)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ye(o,e,n){let t;G(o,x,c=>n(1,t=c));let s="";return o.$$.update=()=>{if(o.$$.dirty&2)switch(t){case"connected":n(0,s="\u{1F7E2}");break;case"connecting":n(0,s="\u231B\uFE0F");break;case"disconnected":n(0,s="\u{1F534}");break;case"error":n(0,s="\u{1F6AB}")}},[s,t]}class Ze extends U{constructor(e){super();T(this,e,Ye,Xe,E,{})}}function xe(o){var s;let e,n=((s=o[0])!=null?s:"no session")+"",t;return{c(){e=O("Charging state: "),t=O(n)},m(c,r){_(c,e,r),_(c,t,r)},p(c,r){var i;r&1&&n!==(n=((i=c[0])!=null?i:"no session")+"")&&J(t,n)},d(c){c&&$(e),c&&$(t)}}}function et(o){let e,n;return e=new pe({props:{$$slots:{default:[xe]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,[s]){const c={};s&3&&(c.$$scope={dirty:s,ctx:t}),e.$set(c)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function tt(o,e,n){let t;return G(o,V,s=>n(0,t=s)),[t]}class nt extends U{constructor(e){super();T(this,e,tt,et,E,{})}}function ot(o){let e;return{c(){e=O("Custom Button")},m(n,t){_(n,e,t)},d(n){n&&$(e)}}}function st(o){let e,n,t,s,c;const r=o[2].default,i=A(r,o,o[1],null),a=i||ot();return{c(){e=k("button"),a&&a.c(),w(e,"class",n="btn btn-sm text-indigo-600 bg-purple-100 hover:bg-purple-300 active:bg-purple-300 rounded-full outline-none focus:ring-indigo-600 active:ring-offset-2 active:ring-4 "+o[0]+"")},m(l,d){_(l,e,d),a&&a.m(e,null),t=!0,s||(c=Y(e,"click",o[3]),s=!0)},p(l,[d]){i&&i.p&&(!t||d&2)&&W(i,r,l,l[1],t?F(r,l[1],d,null):q(l[1]),null),(!t||d&1&&n!==(n="btn btn-sm text-indigo-600 bg-purple-100 hover:bg-purple-300 active:bg-purple-300 rounded-full outline-none focus:ring-indigo-600 active:ring-offset-2 active:ring-4 "+l[0]+""))&&w(e,"class",n)},i(l){t||(b(a,l),t=!0)},o(l){S(a,l),t=!1},d(l){l&&$(e),a&&a.d(l),s=!1,c()}}}function ct(o,e,n){let{$$slots:t={},$$scope:s}=e,{classes:c=""}=e;function r(i){se.call(this,o,i)}return o.$$set=i=>{"classes"in i&&n(0,c=i.classes),"$$scope"in i&&n(1,s=i.$$scope)},[c,s,t,r]}class rt extends U{constructor(e){super();T(this,e,ct,st,E,{classes:0})}}function it(o){let e;return{c(){e=O("Heading 3")},m(n,t){_(n,e,t)},d(n){n&&$(e)}}}function lt(o){let e,n;const t=o[1].default,s=A(t,o,o[0],null),c=s||it();return{c(){e=k("h3"),c&&c.c(),w(e,"class","text-indigo-600 uppercase text-2xl font-thin p-4")},m(r,i){_(r,e,i),c&&c.m(e,null),n=!0},p(r,[i]){s&&s.p&&(!n||i&1)&&W(s,t,r,r[0],n?F(t,r[0],i,null):q(r[0]),null)},i(r){n||(b(c,r),n=!0)},o(r){S(c,r),n=!1},d(r){r&&$(e),c&&c.d(r)}}}function at(o,e,n){let{$$slots:t={},$$scope:s}=e;return o.$$set=c=>{"$$scope"in c&&n(0,s=c.$$scope)},[s,t]}class ut extends U{constructor(e){super();T(this,e,at,lt,E,{})}}const ee=Z("TransactionEvent");function ft(o,e,n="ChargingStateChanged"){return{eventType:"Updated",timestamp:new Date().toISOString(),triggerReason:n,seqNo:0,evse:{id:1,connectorId:1},transactionData:{id:o,chargingState:e}}}const me=["Charging","EVDetected","SuspendedEV","SuspendedEVSE"];function be(o,e,n){const t=o.slice();return t[4]=e[n],t[6]=n,t}function _e(o){let e,n,t,s,c,r,i;n=new ut({props:{$$slots:{default:[dt]},$$scope:{ctx:o}}});let a=me,l=[];for(let u=0;u<a.length;u+=1)l[u]=$e(be(o,a,u));const d=u=>S(l[u],1,1,()=>{l[u]=null});return{c(){e=k("div"),v(n.$$.fragment),t=B(),s=k("div"),c=k("div");for(let u=0;u<l.length;u+=1)l[u].c();w(c,"class","btn-group"),w(s,"class","flex flex-row justify-center")},m(u,g){_(u,e,g),I(n,e,null),L(e,t),L(e,s),L(s,c);for(let m=0;m<l.length;m+=1)l[m].m(c,null);i=!0},p(u,g){const m={};if(g&128&&(m.$$scope={dirty:g,ctx:u}),n.$set(m),g&3){a=me;let p;for(p=0;p<a.length;p+=1){const f=be(u,a,p);l[p]?(l[p].p(f,g),b(l[p],1)):(l[p]=$e(f),l[p].c(),b(l[p],1),l[p].m(c,null))}for(j(),p=a.length;p<l.length;p+=1)d(p);z()}},i(u){if(!i){b(n.$$.fragment,u);for(let g=0;g<a.length;g+=1)b(l[g]);ie(()=>{r||(r=K(e,Q,{},!0)),r.run(1)}),i=!0}},o(u){S(n.$$.fragment,u),l=l.filter(Boolean);for(let g=0;g<l.length;g+=1)S(l[g]);r||(r=K(e,Q,{},!1)),r.run(0),i=!1},d(u){u&&$(e),C(n),ve(l,u),u&&r&&r.end()}}}function dt(o){let e;return{c(){e=O("Charigng State")},m(n,t){_(n,e,t)},d(n){n&&$(e)}}}function gt(o){let e=o[4]+"",n,t;return{c(){n=O(e),t=B()},m(s,c){_(s,n,c),_(s,t,c)},p:M,d(s){s&&$(n),s&&$(t)}}}function $e(o){let e,n;function t(){return o[3](o[4])}return e=new rt({props:{classes:o[4]===o[0]?"btn-active":"",$$slots:{default:[gt]},$$scope:{ctx:o}}}),e.$on("click",t),{c(){v(e.$$.fragment)},m(s,c){I(e,s,c),n=!0},p(s,c){o=s;const r={};c&1&&(r.classes=o[4]===o[0]?"btn-active":""),c&128&&(r.$$scope={dirty:c,ctx:o}),e.$set(r)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){C(e,s)}}}function pt(o){let e,n,t=o[0]!==void 0&&_e(o);return{c(){t&&t.c(),e=le()},m(s,c){t&&t.m(s,c),_(s,e,c),n=!0},p(s,[c]){s[0]!==void 0?t?(t.p(s,c),c&1&&b(t,1)):(t=_e(s),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(j(),S(t,1,1,()=>{t=null}),z())},i(s){n||(b(t),n=!0)},o(s){S(t),n=!1},d(s){t&&t.d(s),s&&$(e)}}}function mt(o,e,n){let t;G(o,V,i=>n(0,t=i));let{webSocket:s}=e;const c=i=>{const a=sessionStorage.getItem("OcppTransactionId"),l=ft(a,i);console.log(`Updating session with ID: ${a}`),ee(s,l),y(V,t=i,t)},r=i=>c(i);return o.$$set=i=>{"webSocket"in i&&n(2,s=i.webSocket)},[t,c,s,r]}class bt extends U{constructor(e){super();T(this,e,mt,pt,E,{webSocket:2})}}const te={InterruptionBegin:"Interruption.Begin",InterruptionEnd:"Interruption.End",Other:"Other",SampleClock:"Sample.Clock",SamplePeriodic:"Sample.Periodic",TransactionBegin:"Transaction.Begin",TransactionEnd:"Transaction.End",Trigger:"Trigger"};function _t(o="CablePluggedIn",e="EVDetected"){const n=new Date().toISOString();sessionStorage.setItem("TransactionStartTime",n),sessionStorage.setItem("LastMeterValue","0");const t=$t();return sessionStorage.setItem("OcppTransactionId",t),console.log(`Transaction ID stored to local session storage: ${sessionStorage.getItem("OcppTransactionId")}`),{eventType:"Started",timestamp:n,triggerReason:o,seqNo:0,idToken:{idToken:"TAG1",type:"Central"},evse:{id:1,connectorId:1},transactionData:{id:t,remoteStartId:0,chargingState:e},meterValue:[{timestamp:n,sampledValue:[{context:te.TransactionBegin,unitOfMeasure:{unit:"Wh"},value:0}]}]}}function $t(){function o(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()}function St(o,e="EVCommunicationLost"){var s;const n=sessionStorage.getItem("LastMeterValue");console.log(`Last meter value from session storage: ${n}`);const t=(s=parseInt(n,10))!=null?s:0;return console.log(`Stop session meter value: ${t}`),{eventType:"Ended",timestamp:new Date().toISOString(),triggerReason:e,seqNo:0,evse:{id:1,connectorId:1},transactionData:{id:o,stoppedReason:"EVDisconnected"},meterValue:[{timestamp:new Date().toISOString(),sampledValue:[{context:te.TransactionBegin,unitOfMeasure:{unit:"Wh"},value:0}]},{timestamp:new Date().toISOString(),sampledValue:[{context:te.TransactionEnd,unitOfMeasure:{unit:"Wh"},value:t}]}]}}function Se(o){let e,n;return e=new ae({props:{$$slots:{default:[ht]},$$scope:{ctx:o}}}),e.$on("click",o[3]),{c(){v(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,s){const c={};s&258&&(c.$$scope={dirty:s,ctx:t}),e.$set(c)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ht(o){let e;return{c(){e=O(o[1])},m(n,t){_(n,e,t)},p(n,t){t&2&&J(e,n[1])},d(n){n&&$(e)}}}function kt(o){let e,n,t=o[2]==="connected"&&Se(o);return{c(){t&&t.c(),e=le()},m(s,c){t&&t.m(s,c),_(s,e,c),n=!0},p(s,[c]){s[2]==="connected"?t?(t.p(s,c),c&4&&b(t,1)):(t=Se(s),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(j(),S(t,1,1,()=>{t=null}),z())},i(s){n||(b(t),n=!0)},o(s){S(t),n=!1},d(s){t&&t.d(s),s&&$(e)}}}function wt(o,e,n){let t,s,c=M,r=()=>(c(),c=ce(a,m=>n(2,s=m)),a);G(o,V,m=>n(6,t=m)),o.$$.on_destroy.push(()=>c());let{webSocket:i}=e,{connectionState:a}=e;r();let l="pluggedOut",d;const u=m=>{m?n(5,l="pluggedIn"):n(5,l="pluggedOut")},g=()=>{if(l==="pluggedOut"){const m=_t();ee(i,m),y(V,t=m.transactionData.chargingState,t),u(!0)}else if(l==="pluggedIn"){const m=sessionStorage.getItem("OcppTransactionId");console.log(`Stopping session with ID: ${m}`),ee(i,St(m)),y(V,t=void 0,t),u(!1)}};return o.$$set=m=>{"webSocket"in m&&n(4,i=m.webSocket),"connectionState"in m&&r(n(0,a=m.connectionState))},o.$$.update=()=>{if(o.$$.dirty&32)switch(l){case"pluggedOut":n(1,d="Plug Cable In");break;case"pluggedIn":n(1,d="Plug Cable Out");break}},[a,d,s,g,i,l]}class vt extends U{constructor(e){super();T(this,e,wt,kt,E,{webSocket:4,connectionState:0})}}function he(o){let e,n,t,s,c,r,i,a,l,d=o[1]!==void 0&&ke();function u(f){o[6](f)}let g={connectionState:o[3]};o[1]!==void 0&&(g.webSocket=o[1]),t=new vt({props:g}),D.push(()=>P(t,"webSocket",u));function m(f){o[7](f)}let p={};return o[1]!==void 0&&(p.webSocket=o[1]),i=new bt({props:p}),D.push(()=>P(i,"webSocket",m)),{c(){d&&d.c(),e=B(),n=k("div"),v(t.$$.fragment),c=B(),r=k("div"),v(i.$$.fragment),w(n,"class","max-w-sm m-auto"),w(r,"class","m-auto")},m(f,h){d&&d.m(f,h),_(f,e,h),_(f,n,h),I(t,n,null),_(f,c,h),_(f,r,h),I(i,r,null),l=!0},p(f,h){f[1]!==void 0?d?h&2&&b(d,1):(d=ke(),d.c(),b(d,1),d.m(e.parentNode,e)):d&&(j(),S(d,1,1,()=>{d=null}),z());const H={};!s&&h&2&&(s=!0,H.webSocket=f[1],N(()=>s=!1)),t.$set(H);const R={};!a&&h&2&&(a=!0,R.webSocket=f[1],N(()=>a=!1)),i.$set(R)},i(f){l||(b(d),b(t.$$.fragment,f),b(i.$$.fragment,f),l=!0)},o(f){S(d),S(t.$$.fragment,f),S(i.$$.fragment,f),l=!1},d(f){d&&d.d(f),f&&$(e),f&&$(n),C(t),f&&$(c),f&&$(r),C(i)}}}function ke(o){let e,n,t,s,c,r;return n=new Ze({}),s=new nt({}),{c(){e=k("div"),v(n.$$.fragment),t=B(),v(s.$$.fragment),w(e,"class","flex flex-row gap-3 justify-center")},m(i,a){_(i,e,a),I(n,e,null),L(e,t),I(s,e,null),r=!0},i(i){r||(b(n.$$.fragment,i),b(s.$$.fragment,i),ie(()=>{c||(c=K(e,Q,{},!0)),c.run(1)}),r=!0)},o(i){S(n.$$.fragment,i),S(s.$$.fragment,i),c||(c=K(e,Q,{},!1)),c.run(0),r=!1},d(i){i&&$(e),C(n),C(s),i&&c&&c.end()}}}function It(o){let e,n,t,s,c,r,i;function a(g){o[4](g)}function l(g){o[5](g)}let d={connectionState:o[3]};o[0]!==void 0&&(d.connectionUrl=o[0]),o[1]!==void 0&&(d.webSocket=o[1]),t=new je({props:d}),D.push(()=>P(t,"connectionUrl",a)),D.push(()=>P(t,"webSocket",l));let u=o[2]==="connected"&&he(o);return{c(){e=k("div"),n=k("div"),v(t.$$.fragment),r=B(),u&&u.c(),w(n,"class","max-w-sm m-auto"),w(e,"class","text-center")},m(g,m){_(g,e,m),L(e,n),I(t,n,null),L(e,r),u&&u.m(e,null),i=!0},p(g,[m]){const p={};!s&&m&1&&(s=!0,p.connectionUrl=g[0],N(()=>s=!1)),!c&&m&2&&(c=!0,p.webSocket=g[1],N(()=>c=!1)),t.$set(p),g[2]==="connected"?u?(u.p(g,m),m&4&&b(u,1)):(u=he(g),u.c(),b(u,1),u.m(e,null)):u&&(j(),S(u,1,1,()=>{u=null}),z())},i(g){i||(b(t.$$.fragment,g),b(u),i=!0)},o(g){S(t.$$.fragment,g),S(u),i=!1},d(g){g&&$(e),C(t),u&&u.d()}}}function Ct(o,e,n){let t;G(o,x,u=>n(2,t=u));let{webSocketUrl:s="wss://connection/string..."}=e;const c=x;let r;function i(u){s=u,n(0,s)}function a(u){r=u,n(1,r)}function l(u){r=u,n(1,r)}function d(u){r=u,n(1,r)}return o.$$set=u=>{"webSocketUrl"in u&&n(0,s=u.webSocketUrl)},[s,r,t,c,i,a,l,d]}class Ut extends U{constructor(e){super();T(this,e,Ct,It,E,{webSocketUrl:0})}}function Tt(o){let e;return{c(){e=O("Heading 1")},m(n,t){_(n,e,t)},d(n){n&&$(e)}}}function Et(o){let e,n;const t=o[1].default,s=A(t,o,o[0],null),c=s||Tt();return{c(){e=k("h1"),c&&c.c(),w(e,"class","text-indigo-600 uppercase text-6xl font-thin p-4")},m(r,i){_(r,e,i),c&&c.m(e,null),n=!0},p(r,[i]){s&&s.p&&(!n||i&1)&&W(s,t,r,r[0],n?F(t,r[0],i,null):q(r[0]),null)},i(r){n||(b(c,r),n=!0)},o(r){S(c,r),n=!1},d(r){r&&$(e),c&&c.d(r)}}}function Ot(o,e,n){let{$$slots:t={},$$scope:s}=e;return o.$$set=c=>{"$$scope"in c&&n(0,s=c.$$scope)},[s,t]}class Lt extends U{constructor(e){super();T(this,e,Ot,Et,E,{})}}function Bt(o){let e;return{c(){e=O("Wallbox Simulator")},m(n,t){_(n,e,t)},d(n){n&&$(e)}}}function Dt(o){let e,n,t,s,c,r,i,a,l,d;n=new Lt({props:{$$slots:{default:[Bt]},$$scope:{ctx:o}}});function u(f){o[1](f)}let g={};o[0]!==void 0&&(g.connectionUrl=o[0]),c=new Le({props:g}),D.push(()=>P(c,"connectionUrl",u));function m(f){o[2](f)}let p={};return o[0]!==void 0&&(p.webSocketUrl=o[0]),a=new Ut({props:p}),D.push(()=>P(a,"webSocketUrl",m)),{c(){e=k("main"),v(n.$$.fragment),t=B(),s=k("div"),v(c.$$.fragment),i=B(),v(a.$$.fragment),w(s,"class","py-4"),w(e,"class","container mx-auto max-w-screen-sm p-4 text-center")},m(f,h){_(f,e,h),I(n,e,null),L(e,t),L(e,s),I(c,s,null),L(e,i),I(a,e,null),d=!0},p(f,[h]){const H={};h&8&&(H.$$scope={dirty:h,ctx:f}),n.$set(H);const R={};!r&&h&1&&(r=!0,R.connectionUrl=f[0],N(()=>r=!1)),c.$set(R);const ne={};!l&&h&1&&(l=!0,ne.webSocketUrl=f[0],N(()=>l=!1)),a.$set(ne)},i(f){d||(b(n.$$.fragment,f),b(c.$$.fragment,f),b(a.$$.fragment,f),d=!0)},o(f){S(n.$$.fragment,f),S(c.$$.fragment,f),S(a.$$.fragment,f),d=!1},d(f){f&&$(e),C(n),C(c),C(a)}}}function Pt(o,e,n){let t;function s(r){t=r,n(0,t)}function c(r){t=r,n(0,t)}return[t,s,c]}class Nt extends U{constructor(e){super();T(this,e,Pt,Dt,E,{})}}new Nt({target:document.getElementById("app")});
